<div class="frame-wrapper" [style.top.px]="position.y" [style.left.px]="position.x">

  <div class="content-wrapper" [style.width.px]="size.w" [style.height.px]="size.h"
  [ngClass]="{ 'object-frame': frame?.frameType === 'Object', 'tag-frame': frame?.frameType === 'Tag' }">
  <div class="frame-body">
    <ul>
      <li *ngIf="frame?.frameType === 'Object'">Origin: {{ frame?.origin }}</li>

        <ng-container *ngIf="frame?.frameType === 'Object'">
          <li *ngFor="let obj of frame?.objectData">
            Object Name: {{ obj.objectName }}
          </li>
          <li *ngFor="let obj of frame?.objectData">
            Object Id: {{ obj?.id }}
          </li>
        </ng-container>
        <ng-container *ngIf="frame?.frameType === 'Tag'">
          <ng-container *ngFor="let tag of frame?.tagData; let isFirst = first">
            <li *ngIf="isFirst">Object Id: {{ tag?.associatedObjectId }}</li>
            <li>Tag Name: {{ tag?.tagName }}</li>
          </ng-container>
        </ng-container>
      </ul>
    </div>
    <div class="top-bar-wrapper" [attr.id]="frame?.id" (mousedown)="drag($event, frame?.id)">
      <div class="top-bar-title" >
        {{ frame?.frameType}} - {{frame?.id}}
      </div>
      <span class="delete-icon" (click)="deleteFrame(frame?.id)">&times;</span>
    </div>
  </div>
  <div class="resizers" [style.width.px]="size.w" [style.height.px]="size.h" [attr.id]="frame?.id">
    <div (mousedown)="resize($event, ['right'], 'x', frame?.id)" class="resizer right"></div>
    <div (mousedown)="resize($event, ['left'], 'x', frame?.id)" class="resizer left"></div>
    <div (mousedown)="resize($event, ['bottom'],'y', frame?.id)" class="resizer bottom"></div>
    <div (mousedown)="resize($event, ['top'], 'y', frame?.id)" class="resizer top"></div>
    <div (mousedown)="resize($event, ['top','right'], 'xy', frame?.id)" class="resizer top-right"></div>
    <div (mousedown)="resize($event, ['top','left'], 'xy', frame?.id)" class="resizer top-left"></div>
    <div (mousedown)="resize($event, ['bottom','left'], 'xy', frame?.id)" class="resizer bottom-left"></div>
    <div #resizeCorner (mousedown)="resize($event, ['bottom','right'], 'xy', frame?.id)" class="resizer bottom-right"></div>
  </div>

</div>

<div *ngFor="let line of lines">
  <app-line  
          [startingPosition]="line.startingPosition" 
          [endingPosition]="line.endingPosition" 
          [width]="frame?.size?.w ?? 0"
          [height]="frame?.size?.h ?? 0">
</app-line>
</div>
